<svg viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .box { fill: #f2ede8; stroke: #1a1a1a; stroke-width: 2; }
      .title { font-family: sans-serif; font-size: 14px; font-weight: bold; fill: #1a1a1a; }
      .label { font-family: monospace; font-size: 11px; fill: #1a1a1a; }
      .arrow { stroke: #1a1a1a; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .section-label { font-family: monospace; font-size: 10px; fill: #1a1a1a; opacity: 0.5; text-transform: uppercase; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#1a1a1a" />
    </marker>
  </defs>

  <!-- Background sections -->
  <g opacity="0.05">
    <rect x="20" y="20" width="300" height="560" fill="#1a1a1a" />
    <rect x="340" y="20" width="300" height="560" fill="#1a1a1a" />
    <rect x="660" y="20" width="320" height="560" fill="#1a1a1a" />
  </g>

  <!-- Section labels -->
  <text x="30" y="45" class="section-label">Data Collection</text>
  <text x="350" y="45" class="section-label">Processing</text>
  <text x="670" y="45" class="section-label">Access Layer</text>

  <!-- DATA COLLECTION LAYER -->
  <!-- Source feeds -->
  <rect x="30" y="70" width="120" height="60" rx="4" class="box" />
  <text x="90" y="92" text-anchor="middle" class="title">Media Sources</text>
  <text x="90" y="110" text-anchor="middle" class="label">RSS, APIs, HTML</text>

  <!-- Distributed scraper -->
  <rect x="30" y="160" width="120" height="80" rx="4" class="box" />
  <text x="90" y="190" text-anchor="middle" class="title">Distributed</text>
  <text x="90" y="208" text-anchor="middle" class="title">Scraper</text>
  <text x="90" y="226" text-anchor="middle" class="label">Rate Limiting</text>

  <!-- Change detection -->
  <rect x="30" y="270" width="120" height="80" rx="4" class="box" />
  <text x="90" y="300" text-anchor="middle" class="title">Change</text>
  <text x="90" y="318" text-anchor="middle" class="title">Detection</text>
  <text x="90" y="336" text-anchor="middle" class="label">Diff Tracking</text>

  <!-- PROCESSING LAYER -->
  <!-- Normalization -->
  <rect x="350" y="70" width="120" height="80" rx="4" class="box" />
  <text x="410" y="100" text-anchor="middle" class="title">Normalization</text>
  <text x="410" y="118" text-anchor="middle" class="title">Pipeline</text>
  <text x="410" y="136" text-anchor="middle" class="label">Schema Transform</text>

  <!-- Storage -->
  <rect x="350" y="180" width="120" height="100" rx="4" class="box" />
  <text x="410" y="215" text-anchor="middle" class="title">Versioned</text>
  <text x="410" y="233" text-anchor="middle" class="title">Storage</text>
  <text x="410" y="251" text-anchor="middle" class="label">PostgreSQL</text>
  <text x="410" y="268" text-anchor="middle" class="label">Redis Cache</text>

  <!-- Monitoring -->
  <rect x="350" y="310" width="120" height="80" rx="4" class="box" />
  <text x="410" y="340" text-anchor="middle" class="title">Monitoring &</text>
  <text x="410" y="358" text-anchor="middle" class="title">Alerting</text>
  <text x="410" y="376" text-anchor="middle" class="label">Prometheus</text>

  <!-- ACCESS LAYER -->
  <!-- REST API -->
  <rect x="670" y="70" width="140" height="80" rx="4" class="box" />
  <text x="740" y="100" text-anchor="middle" class="title">REST API Layer</text>
  <text x="740" y="118" text-anchor="middle" class="label">Query DSL, Auth</text>
  <text x="740" y="136" text-anchor="middle" class="label">Rate Limiting</text>

  <!-- Users & Consumers -->
  <rect x="670" y="180" width="140" height="100" rx="4" class="box" />
  <text x="740" y="220" text-anchor="middle" class="title">Consumers</text>
  <text x="740" y="238" text-anchor="middle" class="label">Researchers</text>
  <text x="740" y="256" text-anchor="middle" class="label">Journalists</text>
  <text x="740" y="274" text-anchor="middle" class="label">Analysts</text>

  <!-- Archive & Export -->
  <rect x="670" y="310" width="140" height="80" rx="4" class="box" />
  <text x="740" y="340" text-anchor="middle" class="title">Archive &</text>
  <text x="740" y="358" text-anchor="middle" class="title">Export</text>
  <text x="740" y="376" text-anchor="middle" class="label">Long-term Storage</text>

  <!-- ARROWS - Data flow -->
  <!-- Collection to Processing -->
  <path class="arrow" d="M 150 100 L 350 100" />
  <path class="arrow" d="M 150 200 L 350 220" />
  <path class="arrow" d="M 150 310 L 350 240" />

  <!-- Processing to Access -->
  <path class="arrow" d="M 470 120 L 670 120" />
  <path class="arrow" d="M 470 230 L 670 230" />
  <path class="arrow" d="M 470 350 L 670 350" />

  <!-- Archive feedback -->
  <path class="arrow" d="M 740 260 L 740 310" />

  <!-- Key characteristics box -->
  <rect x="30" y="430" width="950" height="140" rx="4" fill="none" stroke="#1a1a1a" stroke-width="1" stroke-dasharray="5,5" />
  <text x="50" y="455" class="section-label">Key Characteristics</text>
  <text x="50" y="475" class="label">• 15-minute scraping intervals balance freshness vs cost</text>
  <text x="50" y="495" class="label">• Strict schema enforces data quality over breadth</text>
  <text x="50" y="515" class="label">• Centralized for consistency; federated would improve resilience</text>
  <text x="50" y="535" class="label">• Change diffs stored for auditability and version tracking</text>
  <text x="50" y="555" class="label">• Rate limiting respects source servers; graceful degradation on failures</text>
</svg>
